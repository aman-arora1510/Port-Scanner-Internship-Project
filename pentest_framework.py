import sys

# Import the main functions from your port scanning scripts
# Ensure these files (port_scanner.py and nmap_scanner.py) are in the same directory.
from port_scanner import main as run_socket_port_scanner
from nmap_scanner import main as run_nmap_port_scanner

def display_menu():
    """Displays the menu of available port scanning tools."""
    print("\n===== Penetration Testing Tools Framework =====")
    print("      (Focus: Port Scanning)")
    print("-----------------------------------------------")
    print("1. Socket-based Port Scanner")
    print("2. Nmap-integrated Port Scanner")
    print("0. Exit")
    print("-----------------------------------------------")

def main_framework():
    """Main loop for the penetration testing framework."""
    print("Welcome to the Port Scanning Framework!")
    print("This tool focuses on identifying open ports on target systems.")
    print("IMPORTANT: ONLY use these tools on systems you own or have explicit, legal permission to test.")
    print("           Unauthorized scanning is illegal and unethical.")

    while True:
        display_menu()
        choice = input("Enter your choice: ").strip()

        try:
            choice = int(choice)
        except ValueError:
            print("Invalid input. Please enter a number from the menu.")
            continue

        if choice == 1:
              run_socket_port_scanner()  # Run the socket-based port scanner
        elif choice == 2:
            run_nmap_port_scanner()  # Run the Nmap-integrated port scanner 
        elif choice == 0:
            print("Exiting Port Scanning Framework. Goodbye!")
            sys.exit(0)
        else:
            print("Invalid choice. Please select a valid option (0, 1, or 2).")
        
        # Pause before showing the menu again, for better readability
        input("\nPress Enter to return to the main menu...")

if __name__ == "__main__":
    main_framework()